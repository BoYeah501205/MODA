-- ============================================================================
-- POPULATE ALL PRODUCTION WEEKS (2025 + 2026)
-- Run this in Supabase SQL Editor
-- Date: 2026-01-01
-- ============================================================================

-- STEP 1: Add quarter column if it doesn't exist
ALTER TABLE production_weeks ADD COLUMN IF NOT EXISTS quarter INTEGER;

-- STEP 2: Clear existing production_weeks data
DELETE FROM production_weeks;

-- STEP 2: Insert 2025 weeks (based on provided start dates, 20 modules default)
-- Week ends on Sunday (start_date + 6 days)
INSERT INTO production_weeks (id, week_number, year, week_id, quarter, start_date, end_date, planned_modules, status)
VALUES
    -- Q1 2025 (12 weeks: Dec 30 2024 - Mar 23 2025)
    ('2025-W01', 1, 2025, '2025-W01', 1, '2024-12-30', '2025-01-05', 20, 'Planned'),
    ('2025-W02', 2, 2025, '2025-W02', 1, '2025-01-06', '2025-01-12', 20, 'Planned'),
    ('2025-W03', 3, 2025, '2025-W03', 1, '2025-01-13', '2025-01-19', 20, 'Planned'),
    ('2025-W04', 4, 2025, '2025-W04', 1, '2025-01-20', '2025-01-26', 20, 'Planned'),
    ('2025-W05', 5, 2025, '2025-W05', 1, '2025-01-27', '2025-02-02', 20, 'Planned'),
    ('2025-W06', 6, 2025, '2025-W06', 1, '2025-02-03', '2025-02-09', 20, 'Planned'),
    ('2025-W07', 7, 2025, '2025-W07', 1, '2025-02-10', '2025-02-16', 20, 'Planned'),
    ('2025-W08', 8, 2025, '2025-W08', 1, '2025-02-17', '2025-02-23', 20, 'Planned'),
    ('2025-W09', 9, 2025, '2025-W09', 1, '2025-02-24', '2025-03-02', 20, 'Planned'),
    ('2025-W10', 10, 2025, '2025-W10', 1, '2025-03-03', '2025-03-09', 20, 'Planned'),
    ('2025-W11', 11, 2025, '2025-W11', 1, '2025-03-10', '2025-03-16', 20, 'Planned'),
    ('2025-W12', 12, 2025, '2025-W12', 1, '2025-03-17', '2025-03-23', 20, 'Planned'),
    
    -- Q2 2025 (14 weeks: Mar 24 - Jun 29)
    ('2025-W13', 13, 2025, '2025-W13', 2, '2025-03-24', '2025-03-30', 20, 'Planned'),
    ('2025-W14', 14, 2025, '2025-W14', 2, '2025-03-31', '2025-04-06', 20, 'Planned'),
    ('2025-W15', 15, 2025, '2025-W15', 2, '2025-04-07', '2025-04-13', 20, 'Planned'),
    ('2025-W16', 16, 2025, '2025-W16', 2, '2025-04-14', '2025-04-20', 20, 'Planned'),
    ('2025-W17', 17, 2025, '2025-W17', 2, '2025-04-21', '2025-04-27', 20, 'Planned'),
    ('2025-W18', 18, 2025, '2025-W18', 2, '2025-04-28', '2025-05-04', 20, 'Planned'),
    ('2025-W19', 19, 2025, '2025-W19', 2, '2025-05-05', '2025-05-11', 20, 'Planned'),
    ('2025-W20', 20, 2025, '2025-W20', 2, '2025-05-12', '2025-05-18', 20, 'Planned'),
    ('2025-W21', 21, 2025, '2025-W21', 2, '2025-05-19', '2025-05-25', 20, 'Planned'),
    ('2025-W22', 22, 2025, '2025-W22', 2, '2025-05-26', '2025-06-01', 20, 'Planned'),
    ('2025-W23', 23, 2025, '2025-W23', 2, '2025-06-02', '2025-06-08', 20, 'Planned'),
    ('2025-W24', 24, 2025, '2025-W24', 2, '2025-06-09', '2025-06-15', 20, 'Planned'),
    ('2025-W25', 25, 2025, '2025-W25', 2, '2025-06-16', '2025-06-22', 20, 'Planned'),
    ('2025-W26', 26, 2025, '2025-W26', 2, '2025-06-23', '2025-06-29', 20, 'Planned'),
    
    -- Q3 2025 (14 weeks: Jun 30 - Oct 5)
    ('2025-W27', 27, 2025, '2025-W27', 3, '2025-06-30', '2025-07-06', 20, 'Planned'),
    ('2025-W28', 28, 2025, '2025-W28', 3, '2025-07-07', '2025-07-13', 20, 'Planned'),
    ('2025-W29', 29, 2025, '2025-W29', 3, '2025-07-14', '2025-07-20', 20, 'Planned'),
    ('2025-W30', 30, 2025, '2025-W30', 3, '2025-07-21', '2025-07-27', 20, 'Planned'),
    ('2025-W31', 31, 2025, '2025-W31', 3, '2025-07-28', '2025-08-03', 20, 'Planned'),
    ('2025-W32', 32, 2025, '2025-W32', 3, '2025-08-04', '2025-08-10', 20, 'Planned'),
    ('2025-W33', 33, 2025, '2025-W33', 3, '2025-08-11', '2025-08-17', 20, 'Planned'),
    ('2025-W34', 34, 2025, '2025-W34', 3, '2025-08-18', '2025-08-24', 20, 'Planned'),
    ('2025-W35', 35, 2025, '2025-W35', 3, '2025-08-25', '2025-08-31', 20, 'Planned'),
    ('2025-W36', 36, 2025, '2025-W36', 3, '2025-09-01', '2025-09-07', 20, 'Planned'),
    ('2025-W37', 37, 2025, '2025-W37', 3, '2025-09-08', '2025-09-14', 20, 'Planned'),
    ('2025-W38', 38, 2025, '2025-W38', 3, '2025-09-15', '2025-09-21', 20, 'Planned'),
    ('2025-W39', 39, 2025, '2025-W39', 3, '2025-09-22', '2025-09-28', 20, 'Planned'),
    ('2025-W40', 40, 2025, '2025-W40', 3, '2025-09-29', '2025-10-05', 20, 'Planned'),
    
    -- Q4 2025 (13 weeks: Oct 6 - Dec 28)
    ('2025-W41', 41, 2025, '2025-W41', 4, '2025-10-06', '2025-10-12', 20, 'Planned'),
    ('2025-W42', 42, 2025, '2025-W42', 4, '2025-10-13', '2025-10-19', 20, 'Planned'),
    ('2025-W43', 43, 2025, '2025-W43', 4, '2025-10-20', '2025-10-26', 20, 'Planned'),
    ('2025-W44', 44, 2025, '2025-W44', 4, '2025-10-27', '2025-11-02', 20, 'Planned'),
    ('2025-W45', 45, 2025, '2025-W45', 4, '2025-11-03', '2025-11-09', 20, 'Planned'),
    ('2025-W46', 46, 2025, '2025-W46', 4, '2025-11-10', '2025-11-16', 20, 'Planned'),
    ('2025-W47', 47, 2025, '2025-W47', 4, '2025-11-17', '2025-11-23', 20, 'Planned'),
    ('2025-W48', 48, 2025, '2025-W48', 4, '2025-11-24', '2025-11-30', 20, 'Planned'),
    ('2025-W49', 49, 2025, '2025-W49', 4, '2025-12-01', '2025-12-07', 20, 'Planned'),
    ('2025-W50', 50, 2025, '2025-W50', 4, '2025-12-08', '2025-12-14', 20, 'Planned'),
    ('2025-W51', 51, 2025, '2025-W51', 4, '2025-12-15', '2025-12-21', 20, 'Planned'),
    ('2025-W52', 52, 2025, '2025-W52', 4, '2025-12-22', '2025-12-28', 20, 'Planned'),
    ('2025-W53', 53, 2025, '2025-W53', 4, '2025-12-29', '2026-01-04', 20, 'Planned'),

    -- Q1 2026 (13 weeks: Jan 5 - Apr 5)
    -- Weeks 1-5: Shift 1 only (Mon-Thu = 20 modules)
    -- Weeks 6+: Shift 1 + Shift 2 (Mon-Thu + Fri/Sat/Sun = 20 + 3 = 23 modules)
    ('2026-W01', 1, 2026, '2026-W01', 1, '2026-01-05', '2026-01-11', 20, 'Planned'),
    ('2026-W02', 2, 2026, '2026-W02', 1, '2026-01-12', '2026-01-18', 20, 'Planned'),
    ('2026-W03', 3, 2026, '2026-W03', 1, '2026-01-19', '2026-01-25', 20, 'Planned'),
    ('2026-W04', 4, 2026, '2026-W04', 1, '2026-01-26', '2026-02-01', 20, 'Planned'),
    ('2026-W05', 5, 2026, '2026-W05', 1, '2026-02-02', '2026-02-08', 20, 'Planned'),
    ('2026-W06', 6, 2026, '2026-W06', 1, '2026-02-09', '2026-02-15', 23, 'Planned'),
    ('2026-W07', 7, 2026, '2026-W07', 1, '2026-02-16', '2026-02-22', 23, 'Planned'),
    ('2026-W08', 8, 2026, '2026-W08', 1, '2026-02-23', '2026-03-01', 23, 'Planned'),
    ('2026-W09', 9, 2026, '2026-W09', 1, '2026-03-02', '2026-03-08', 23, 'Planned'),
    ('2026-W10', 10, 2026, '2026-W10', 1, '2026-03-09', '2026-03-15', 23, 'Planned'),
    ('2026-W11', 11, 2026, '2026-W11', 1, '2026-03-16', '2026-03-22', 23, 'Planned'),
    ('2026-W12', 12, 2026, '2026-W12', 1, '2026-03-23', '2026-03-29', 23, 'Planned'),
    ('2026-W13', 13, 2026, '2026-W13', 1, '2026-03-30', '2026-04-05', 23, 'Planned'),
    
    -- Q2 2026 (13 weeks: Apr 6 - Jul 5)
    ('2026-W14', 14, 2026, '2026-W14', 2, '2026-04-06', '2026-04-12', 23, 'Planned'),
    ('2026-W15', 15, 2026, '2026-W15', 2, '2026-04-13', '2026-04-19', 23, 'Planned'),
    ('2026-W16', 16, 2026, '2026-W16', 2, '2026-04-20', '2026-04-26', 23, 'Planned'),
    ('2026-W17', 17, 2026, '2026-W17', 2, '2026-04-27', '2026-05-03', 23, 'Planned'),
    ('2026-W18', 18, 2026, '2026-W18', 2, '2026-05-04', '2026-05-10', 23, 'Planned'),
    ('2026-W19', 19, 2026, '2026-W19', 2, '2026-05-11', '2026-05-17', 23, 'Planned'),
    ('2026-W20', 20, 2026, '2026-W20', 2, '2026-05-18', '2026-05-24', 23, 'Planned'),
    ('2026-W21', 21, 2026, '2026-W21', 2, '2026-05-25', '2026-05-31', 23, 'Planned'),
    ('2026-W22', 22, 2026, '2026-W22', 2, '2026-06-01', '2026-06-07', 23, 'Planned'),
    ('2026-W23', 23, 2026, '2026-W23', 2, '2026-06-08', '2026-06-14', 23, 'Planned'),
    ('2026-W24', 24, 2026, '2026-W24', 2, '2026-06-15', '2026-06-21', 23, 'Planned'),
    ('2026-W25', 25, 2026, '2026-W25', 2, '2026-06-22', '2026-06-28', 23, 'Planned'),
    ('2026-W26', 26, 2026, '2026-W26', 2, '2026-06-29', '2026-07-05', 23, 'Planned'),
    
    -- Q3 2026 (13 weeks: Jul 6 - Oct 4)
    ('2026-W27', 27, 2026, '2026-W27', 3, '2026-07-06', '2026-07-12', 23, 'Planned'),
    ('2026-W28', 28, 2026, '2026-W28', 3, '2026-07-13', '2026-07-19', 23, 'Planned'),
    ('2026-W29', 29, 2026, '2026-W29', 3, '2026-07-20', '2026-07-26', 23, 'Planned'),
    ('2026-W30', 30, 2026, '2026-W30', 3, '2026-07-27', '2026-08-02', 23, 'Planned'),
    ('2026-W31', 31, 2026, '2026-W31', 3, '2026-08-03', '2026-08-09', 23, 'Planned'),
    ('2026-W32', 32, 2026, '2026-W32', 3, '2026-08-10', '2026-08-16', 23, 'Planned'),
    ('2026-W33', 33, 2026, '2026-W33', 3, '2026-08-17', '2026-08-23', 23, 'Planned'),
    ('2026-W34', 34, 2026, '2026-W34', 3, '2026-08-24', '2026-08-30', 23, 'Planned'),
    ('2026-W35', 35, 2026, '2026-W35', 3, '2026-08-31', '2026-09-06', 23, 'Planned'),
    ('2026-W36', 36, 2026, '2026-W36', 3, '2026-09-07', '2026-09-13', 23, 'Planned'),
    ('2026-W37', 37, 2026, '2026-W37', 3, '2026-09-14', '2026-09-20', 23, 'Planned'),
    ('2026-W38', 38, 2026, '2026-W38', 3, '2026-09-21', '2026-09-27', 23, 'Planned'),
    ('2026-W39', 39, 2026, '2026-W39', 3, '2026-09-28', '2026-10-04', 23, 'Planned'),
    
    -- Q4 2026 (13 weeks: Oct 5 - Jan 3 2027)
    ('2026-W40', 40, 2026, '2026-W40', 4, '2026-10-05', '2026-10-11', 23, 'Planned'),
    ('2026-W41', 41, 2026, '2026-W41', 4, '2026-10-12', '2026-10-18', 23, 'Planned'),
    ('2026-W42', 42, 2026, '2026-W42', 4, '2026-10-19', '2026-10-25', 23, 'Planned'),
    ('2026-W43', 43, 2026, '2026-W43', 4, '2026-10-26', '2026-11-01', 23, 'Planned'),
    ('2026-W44', 44, 2026, '2026-W44', 4, '2026-11-02', '2026-11-08', 23, 'Planned'),
    ('2026-W45', 45, 2026, '2026-W45', 4, '2026-11-09', '2026-11-15', 23, 'Planned'),
    ('2026-W46', 46, 2026, '2026-W46', 4, '2026-11-16', '2026-11-22', 23, 'Planned'),
    ('2026-W47', 47, 2026, '2026-W47', 4, '2026-11-23', '2026-11-29', 23, 'Planned'),
    ('2026-W48', 48, 2026, '2026-W48', 4, '2026-11-30', '2026-12-06', 23, 'Planned'),
    ('2026-W49', 49, 2026, '2026-W49', 4, '2026-12-07', '2026-12-13', 23, 'Planned'),
    ('2026-W50', 50, 2026, '2026-W50', 4, '2026-12-14', '2026-12-20', 23, 'Planned'),
    ('2026-W51', 51, 2026, '2026-W51', 4, '2026-12-21', '2026-12-27', 23, 'Planned'),
    ('2026-W52', 52, 2026, '2026-W52', 4, '2026-12-28', '2027-01-03', 23, 'Planned');

-- ============================================================================
-- SUMMARY:
-- 2020-2024: Historical years, 0 modules/week (to be filled in later)
-- 2025: 53 weeks, 20 modules/week default
-- 2026 W1-W5: 20 modules/week (Shift 1 only: Mon-Thu)
-- 2026 W6-W52: 23 modules/week (Shift 1 + Shift 2)
-- ============================================================================

-- Verify the data
SELECT year, quarter, COUNT(*) as weeks, SUM(planned_modules) as total_modules
FROM production_weeks
GROUP BY year, quarter
ORDER BY year, quarter;
